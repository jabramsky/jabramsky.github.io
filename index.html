<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Line Chart</title>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/d3/4.7.3/d3.min.js"></script>
    <style>
        #vis {
            height: 600px;
            width: 800px;
        }
    </style>
</head>
<body>
    <div id="vis">

    </div>
    <script>
        var width = document.getElementById('vis').clientWidth;
        var height = document.getElementById('vis').clientHeight;

        var margin = {
            left: 10,
            right: 10,
            top: 10,
            bottom: 10
        }

        var svg = d3.select('#vis')
            .append('svg')
                .attr('width', width)
                .attr('height', height)
            .append('g')
                .attr('transform', 'translate(' + margin.left + ',' + margin.top + ')');

        width = width - margin.left - margin.right;
        height = height - margin.top - margin.bottom;

        var data = createRandomData();
        console.log(data);

        var x_scale = d3.scaleLinear()
            .range([0, width])
            .domain(d3.extent(data, function(d){ return d.x; }));

        var y_scale = d3.scaleLinear()
            .range([height, 0])
            .domain(d3.extent(data, function(d){ return d.y; }));

        var path = svg.selectAll('path')
            .data([data])

        path
            .enter()
            .append('path')
            .attr('fill', 'none')
            .attr('stroke', 'black')
            .attr('d', function(d){
                console.log(d);
                d_string = "";
                d_string += "M " + x_scale(d[0].x) + " " + y_scale(d[0].y);
                console.log(d_string);
                for(var i = 1; i < d.length; i++) {
                    d_string += "L " + x_scale(d[i].x) + " " + y_scale(d[i].y);
                }
                console.log(d_string);
                return d_string;
            })

        /* create an array between 1 and 100 items long,
        filled with arrays containing two random values between 1 and 50 */
        function createRandomData() {
            var numDataItems = 100;
            var d = [];
            for(var i = 0; i < numDataItems; i++) {
                var x = i;
                var y = Math.floor((Math.random() * 50) + 1);
                d.push({"x": x, "y": y});
            }
            return d;
        }
    </script>

</body>
</html>
