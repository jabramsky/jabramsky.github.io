<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Unemployment Rate</title>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/d3/4.7.3/d3.min.js"></script>
    <style>
    html, body, #vis {
        height: 100%;
        margin: 0;
    }

    .tooltip {
        position: absolute;
    }

    .tooltip p {
        background-color: white;
        border: #eee 1px solid;
        padding: 2px;
        font-family: sans-serif;
        font-size: 11px;
    }
</style>
</head>
<body>
    <div id="vis">

    </div>
    <script>

    var width = 500;
    var height = 500;

    var margin = {
        top: 10,
        bottom: 100,
        left: 100,
        right: 120
    };

    var svg = d3.select('#vis')
        .append('svg')
            .attr('width', width)
            .attr('height', height)
        .append('g')
            .attr('transform', 'translate(' + margin.left + ',' + margin.top + ')');

    var tooltip = d3.select('body')
        .append('div')
        .attr('class', 'tooltip');

    width = width - margin.left - margin.right;
    height = height - margin.top - margin.bottom;

    var x_scale = d3.scaleLinear()
        .range([0, width]);

    d3.csv('industry_gva_and_supply.csv', function(csv_data){
        console.log(csv_data);

        x_scale.domain(d3.extent(csv_data, function(d){
            return (d.OUTPUT);
            }))

        var x_axis = d3.axisBottom()
            .scale(x_scale);


        var gvap_rect = svg.selectAll('.gvap_rect')
            .data([csv_data]);

        gvap_rect
                .enter()
                .append('rect')
                .attr('class','gvap_rect')
                .attr("fill", "red")
                .attr('width', 480)
                .attr('height', 100)
                .attr('y', 300) 
                .attr('x', 10)

        svg.append('g')
            .attr('transform', 'translate(0, ' + height + ')')
            .call(x_axis);
        
    })

    </script>

</body>
</html>
